@model AlertPanelConfig

@{
    var alertClasses = new List<string> { "alert" };

    switch (Model.Variant)
    {
        case AlertVariant.Standard:
            alertClasses.Add($"alert-{Model.AlertType}");
            break;
        case AlertVariant.Solid:
            alertClasses.Add($"alert-{Model.AlertType}");
            alertClasses.Add("alert-solid");
            break;
        case AlertVariant.BorderLeft:
            alertClasses.Add($"alert-{Model.AlertType}");
            alertClasses.Add("alert-border-left");
            break;
        case AlertVariant.Modern:
            alertClasses.Add($"alert-{Model.AlertType}");
            alertClasses.Add("alert-modern");
            break;
    }

    if (Model.Dismissible)
    {
        alertClasses.Add("alert-dismissible fade show");
    }

    if (!string.IsNullOrEmpty(Model.CssClass))
    {
        alertClasses.Add(Model.CssClass);
    }

    var allClasses = string.Join(" ", alertClasses);
}

<div class="@allClasses" role="alert" id="alert-@Model.Id">
    <div class="d-flex align-items-start">
        @if (!string.IsNullOrEmpty(Model.IconClass))
        {
            <div class="flex-shrink-0 me-3">
                <i class="@Model.IconClass fs-16"></i>
            </div>
        }

        <div class="flex-grow-1">
            @if (!string.IsNullOrEmpty(Model.Title))
            {
                <h5 class="alert-heading">@Model.Title</h5>
            }

            <p class="mb-0">@Model.Message</p>

            @if (Model.Actions != null && Model.Actions.Any())
            {
                <div class="mt-3">
                    @foreach (var action in Model.Actions)
                    {
                        @if (!string.IsNullOrEmpty(action.Url))
                        {
                            <a href="@action.Url" class="@action.ButtonClass me-2">@action.Text</a>
                        }
                        else if (!string.IsNullOrEmpty(action.OnClick))
                        {
                            <button type="button"
                                    class="@action.ButtonClass me-2"
                                    onclick="@action.OnClick">
                                @action.Text
                            </button>
                        }
                    }
                </div>
            }
        </div>

        @if (Model.Dismissible)
        {
            <button type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                    aria-label="Close"></button>
        }
    </div>
</div>
