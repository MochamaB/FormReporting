@model TimelineConfig

<ul class="list-unstyled mb-0">
    @for (var i = 0; i < Model.Items.Count; i++)
    {
        var item = Model.Items[i];
        item.IsLast = (i == Model.Items.Count - 1);

        <li class="@(item.IsLast ? "" : "pb-4")">
            <div class="d-flex align-items-start">
                <div class="flex-shrink-0 me-3">
                    <partial name="~/Views/Shared/Components/Dashboard/Atomic/_Icon.cshtml"
                             model="item.Icon" />
                </div>

                <div class="flex-grow-1 @(!item.IsLast ? "border-start border-start-dashed ps-3" : "ps-3")" style="margin-top: 2px;">
                    <h6 class="mb-1">
                        @item.Title
                        @if (item.Badge != null)
                        {
                            <text> </text>
                            <partial name="~/Views/Shared/Components/Dashboard/Atomic/_Badge.cshtml"
                                     model="item.Badge" />
                        }
                    </h6>

                    @if (!string.IsNullOrEmpty(item.Description))
                    {
                        <p class="text-muted mb-2">@item.Description</p>
                    }

                    @if (!string.IsNullOrEmpty(item.AdditionalContent))
                    {
                        <div class="mb-2">
                            @Html.Raw(item.AdditionalContent)
                        </div>
                    }

                    <p class="text-muted mb-0">
                        <small><i class="ri-time-line align-middle"></i> @item.Timestamp</small>
                    </p>
                </div>
            </div>
        </li>
    }
</ul>
