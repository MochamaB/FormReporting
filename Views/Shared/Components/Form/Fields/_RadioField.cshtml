@model FormReporting.Models.ViewModels.Components.FormFieldViewModel

@*
    Radio Field - Radio button group
*@

<div class="mb-3 col-md-@Model.ColumnWidth">
    <label class="form-label">
        @Model.FieldName
        @if (Model.IsRequired)
        {
            <span class="text-danger">*</span>
        }
    </label>

    @if (Model.Options != null && Model.Options.Any())
    {
        var currentValueStr = Model.CurrentValue?.ToString() ?? string.Empty;
        <div class="radio-group" data-field-id="@Model.FieldId">
            @foreach (var option in Model.Options)
            {
                <div class="form-check">
                    <input type="radio"
                           class="form-check-input"
                           id="@(Model.InputId)_@option.Value"
                           name="@Model.InputName"
                           value="@option.Value"
                           @(option.Value == currentValueStr ? "checked" : "")
                           @(Model.IsRequired ? "required" : "")
                           @(Model.IsDisabled ? "disabled" : "")
                           @if (!string.IsNullOrEmpty(Model.ValidationDataAttribute))
                           {
                               <text>data-validation='@Model.ValidationDataAttribute'</text>
                           }
                           @if (!string.IsNullOrEmpty(Model.ConditionalLogicDataAttribute))
                           {
                               <text>data-conditional='@Model.ConditionalLogicDataAttribute'</text>
                           } />
                    <label class="form-check-label" for="@(Model.InputId)_@option.Value">
                        @option.Label
                    </label>
                </div>
            }
        </div>
    }

    @if (!string.IsNullOrEmpty(Model.HelpText))
    {
        <div class="form-text">@Model.HelpText</div>
    }

    <div class="invalid-feedback"></div>
</div>
