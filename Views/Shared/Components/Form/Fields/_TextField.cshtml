@model FormReporting.Models.ViewModels.Components.FormFieldViewModel

@*
    Text Field - Single line text input
*@

<div class="mb-3 col-md-@Model.ColumnWidth">
    <label for="@Model.InputId" class="form-label" style="word-wrap: break-word; overflow-wrap: break-word;">
        @if (Model.ShowFieldNumber)
        {
            <span class="text-primary me-2">@Model.DisplayOrder.</span>
        }
        @Model.FieldName
        @if (Model.IsRequired)
        {
            <span class="text-danger">*</span>
        }
    </label>

    @if (!string.IsNullOrEmpty(Model.PrefixText) || !string.IsNullOrEmpty(Model.SuffixText))
    {
        <div class="input-group">
            @if (!string.IsNullOrEmpty(Model.PrefixText))
            {
                <span class="input-group-text">@Model.PrefixText</span>
            }

            <input type="text"
                   class="form-control"
                   id="@Model.InputId"
                   name="@Model.InputName"
                   value="@Model.CurrentValue"
                   placeholder="@Model.PlaceholderText"
                   @(Model.IsRequired ? "required" : "")
                   @(Model.IsReadOnly ? "readonly" : "")
                   @(Model.IsDisabled ? "disabled" : "")
                   @if (Model.MaxLength.HasValue)
                   {
                       <text>maxlength="@Model.MaxLength"</text>
                   }
                   data-field-id="@Model.FieldId"
                   @if (!string.IsNullOrEmpty(Model.ValidationDataAttribute))
                   {
                       <text>data-validation='@Model.ValidationDataAttribute'</text>
                   }
                   @if (!string.IsNullOrEmpty(Model.ConditionalLogicDataAttribute))
                   {
                       <text>data-conditional='@Model.ConditionalLogicDataAttribute'</text>
                   } />

            @if (!string.IsNullOrEmpty(Model.SuffixText))
            {
                <span class="input-group-text">@Model.SuffixText</span>
            }
        </div>
    }
    else
    {
        <input type="text"
               class="form-control"
               id="@Model.InputId"
               name="@Model.InputName"
               value="@Model.CurrentValue"
               placeholder="@Model.PlaceholderText"
               @(Model.IsRequired ? "required" : "")
               @(Model.IsReadOnly ? "readonly" : "")
               @(Model.IsDisabled ? "disabled" : "")
               @if (Model.MaxLength.HasValue)
               {
                   <text>maxlength="@Model.MaxLength"</text>
               }
               data-field-id="@Model.FieldId"
               @if (!string.IsNullOrEmpty(Model.ValidationDataAttribute))
               {
                   <text>data-validation='@Model.ValidationDataAttribute'</text>
               }
               @if (!string.IsNullOrEmpty(Model.ConditionalLogicDataAttribute))
               {
                   <text>data-conditional='@Model.ConditionalLogicDataAttribute'</text>
               } />
    }

    @if (!string.IsNullOrEmpty(Model.HelpText))
    {
        <div class="form-text">@Model.HelpText</div>
    }

    <div class="invalid-feedback"></div>
</div>
