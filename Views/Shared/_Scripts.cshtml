@* Velzon Template JavaScript References *@

<!-- JAVASCRIPT -->
<!-- jQuery (Local) -->
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<!-- jQuery Validation (Local) -->
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js"></script>

<!-- Bootstrap and other libraries -->
<script src="~/assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="~/assets/libs/simplebar/simplebar.min.js"></script>
<script src="~/assets/libs/node-waves/waves.min.js"></script>
<script src="~/assets/libs/feather-icons/feather.min.js"></script>
<script src="~/assets/js/pages/plugins/lord-icon-2.1.0.js"></script>
<script src="~/assets/js/plugins.js"></script>

<!-- SweetAlert2 - For notifications and alerts -->
<script src="~/assets/libs/sweetalert2/sweetalert2.min.js"></script>

<!-- ApexCharts - For dashboard charts -->
<script src="~/lib/apexcharts/dist/apexcharts.min.js"></script>

<!-- Form Wizard -->
<script src="~/js/form-wizard.js"></script>

<!-- Form Submission Wizard (Navigation, Validation, Auto-Save) -->
<script src="~/js/form-submission-wizard.js"></script>

<!-- DataTable Component (Sorting, Bulk Actions, AJAX Loading) -->
<script src="~/js/components/datatable.js"></script>

<!-- Icon Picker Component (Live Preview, Modal Selection) -->
<script src="~/js/components/icon-picker.js"></script>

<!-- Dashboard Components -->
<script src="~/js/dashboard/form-statistics.js"></script>

<!-- Tab Persistence - Automatic tab state saving across page reloads -->
<script src="~/js/utils/tab-persistence.js"></script>

<!-- App Loader - Universal Progress Bar -->
<script src="~/js/app-loader.js"></script>

<!-- App js - Wrapped to handle missing DOM elements gracefully -->
<script>
    // Suppress non-critical errors from app.js when DOM elements are missing
    window.addEventListener('error', function(e) {
        if (e.filename && e.filename.includes('app.js')) {
            // Suppress app.js errors for missing navbar elements etc.
            e.preventDefault();
            return true;
        }
    });

    document.addEventListener("DOMContentLoaded", function () {
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
        tooltipTriggerList.forEach(el => new bootstrap.Tooltip(el));
    });
    document.addEventListener("DOMContentLoaded", function () {
        const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]');
        popoverTriggerList.forEach(el => new bootstrap.Popover(el));
    });
    //dropdown visibility
    document.addEventListener('shown.bs.dropdown', function (event) {
    const menu = event.target.querySelector('.dropdown-menu');
    if (menu) {
        document.body.appendChild(menu);
        const rect = event.target.getBoundingClientRect();
        menu.style.position = 'absolute';
        menu.style.top = `${rect.bottom + window.scrollY}px`;
        menu.style.left = `${rect.left + window.scrollX}px`;
        menu.style.zIndex = 1055;
    }
});
</script>
<script src="~/assets/js/app.js"></script>
