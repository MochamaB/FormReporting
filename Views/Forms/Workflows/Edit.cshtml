@model WorkflowEditViewModel
@using FormReporting.Models.ViewModels.Components

@{
    ViewData["Title"] = "Edit Workflow";
    
    var formConfig = new SimpleFormConfig
    {
        Title = "Edit Workflow",
        FormAction = Url.Action("Update", "Workflow", new { id = Model.WorkflowId }),
        FormMethod = "POST",
        SubmitButtonText = "Update Workflow",
        CancelUrl = Url.Action("Index", "Workflow"),
        FormStyle = SimpleFormStyle.Card,
        Fields = new List<SimpleFormFieldConfig>
        {
            new SimpleFormFieldConfig
            {
                PropertyName = "WorkflowId",
                FieldType = SimpleFieldType.Hidden,
                Value = Model.WorkflowId,
                DisplayOrder = 1
            },
            new SimpleFormFieldConfig
            {
                PropertyName = "WorkflowName",
                Label = "Workflow Name",
                FieldType = SimpleFieldType.Text,
                Value = Model.WorkflowName,
                IsRequired = true,
                ColumnClass = "col-md-8",
                DisplayOrder = 2
            },
            new SimpleFormFieldConfig
            {
                PropertyName = "IsActive",
                Label = "Active",
                FieldType = SimpleFieldType.Checkbox,
                Value = Model.IsActive,
                ColumnClass = "col-md-4",
                DisplayOrder = 3
            },
            new SimpleFormFieldConfig
            {
                PropertyName = "Description",
                Label = "Description",
                FieldType = SimpleFieldType.TextArea,
                Value = Model.Description,
                Rows = 4,
                ColumnClass = "col-12",
                DisplayOrder = 4
            }
        }
    };

    var form = formConfig.BuildForm();
}

<div class="row">
    <div class="col-12">
        <div class="page-title-box d-sm-flex align-items-center justify-content-between">
            <h4 class="mb-sm-0">Edit Workflow</h4>
            <div class="page-title-right">
                <ol class="breadcrumb m-0">
                    <li class="breadcrumb-item"><a href="@Url.Action("Index", "Dashboard")">Dashboard</a></li>
                    <li class="breadcrumb-item"><a href="@Url.Action("Index", "Workflow")">Workflows</a></li>
                    <li class="breadcrumb-item active">Edit</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-8 offset-lg-2">
        <partial name="~/Views/Shared/Components/SimpleForms/_SimpleForm.cshtml" model="form" />
    </div>
</div>
