@model FormReporting.Models.ViewModels.Forms.FormBuilderViewModel

@*
    CENTER PANEL: Canvas
    Main form design area where sections and fields are displayed
*@

<div class="canvas-wrapper">
    <!-- Form Header (Title and Description) -->
    <div class="form-header-preview mb-4">
        <div class="d-flex align-items-start gap-3">
            <div class="form-header-icon">
                <i class="ri-file-list-3-line text-muted" style="font-size: 2.5rem;"></i>
            </div>
            <div class="flex-grow-1">
                <h3 class="form-title mb-2">@Model.TemplateName</h3>
                @if (!string.IsNullOrEmpty(Model.Description))
                {
                    <p class="text-muted mb-0 form-description">@Model.Description</p>
                }
            </div>
        </div>
        <hr class="mt-3 mb-4">
    </div>

    <!-- Sections Container (Sortable) -->
    <div id="sectionsContainer" class="sections-container">
        @if (Model.Sections.Any())
        {
            @foreach (var section in Model.Sections.OrderBy(s => s.DisplayOrder))
            {
                <partial name="~/Views/Forms/FormTemplates/Partials/FormBuilder/Components/_BuilderSection.cshtml" 
                         model="section" />
            }
        }
        else
        {
            <!-- Empty State -->
            <div class="text-center py-5">
                <i class="ri-inbox-line display-4 text-muted"></i>
                <h5 class="mt-3 text-muted">No Sections Yet</h5>
                <p class="text-muted">Click "Add Section" to get started</p>
            </div>
        }
    </div>
</div>
