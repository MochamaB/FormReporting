@*
    CANVAS TOOLBAR
    Floating action bar for quick canvas navigation and actions
    Position: Right side of canvas area, full height
    Layout: Section indicators (flex-grow) | Collapse/Expand | Undo/Redo | Zoom (bottom)
*@

<div id="canvasToolbar" class="canvas-toolbar">
    
    <!-- ============================================ -->
    <!-- TOP: Section Navigation (fills remaining space) -->
    <!-- ============================================ -->
    <div class="toolbar-section-nav" id="sectionNavGroup">
        <!-- Section Dropdown Button (always visible) -->
        <div class="section-dropdown dropstart">
            <button type="button" 
                    class="toolbar-btn section-dropdown-toggle" 
                    id="sectionDropdownBtn"
                    data-bs-toggle="dropdown"
                    data-bs-auto-close="true"
                    aria-expanded="false"
                    title="Jump to Section">
                <i class="ri-list-unordered"></i>
            </button>
            <ul class="dropdown-menu section-dropdown-menu" id="sectionDropdownMenu">
                <li class="dropdown-header">
                    <i class="ri-layout-2-line me-1"></i>Sections
                </li>
                <li><hr class="dropdown-divider"></li>
                <!-- Populated by JS -->
                <li class="section-dropdown-empty" id="sectionDropdownEmpty">
                    <span class="text-muted small">No sections yet</span>
                </li>
            </ul>
        </div>

        <!-- Section Indicators (dots) -->
        <div id="sectionIndicators" class="section-indicators">
            <!-- Populated by JS using template below -->
        </div>
    </div>

    <!-- Section Indicator Template (hidden, cloned by JS) -->
    <template id="sectionIndicatorTemplate">
        <button type="button" 
                class="section-indicator" 
                data-section-id=""
                data-section-name=""
                title="">
            <span class="indicator-dot"></span>
            <span class="indicator-tooltip"></span>
        </button>
    </template>

    <!-- Section Dropdown Item Template -->
    <template id="sectionDropdownItemTemplate">
        <li>
            <a class="dropdown-item section-dropdown-item" href="#" data-section-id="">
                <span class="section-dropdown-number"></span>
                <span class="section-dropdown-name"></span>
            </a>
        </li>
    </template>

    <!-- ============================================ -->
    <!-- BOTTOM CONTROLS (positioned at bottom) -->
    <!-- ============================================ -->
     <div class="toolbar-divider"></div>
    <div class="toolbar-bottom-controls">
        
        <!-- Collapse/Expand -->
        <div class="toolbar-group">
            <button type="button" class="toolbar-btn" id="btnCollapseAll" title="Collapse All Sections (Alt+C)">
                <i class="ri-arrow-up-double-line"></i>
            </button>
            <button type="button" class="toolbar-btn" id="btnExpandAll" title="Expand All Sections (Alt+E)">
                <i class="ri-arrow-down-double-line"></i>
            </button>
        </div>

        <div class="toolbar-divider"></div>

        <!-- Undo/Redo -->
        <div class="toolbar-group">
            <button type="button" class="toolbar-btn" id="btnUndo" title="Undo (Ctrl+Z)" disabled>
                <i class="ri-arrow-go-back-line"></i>
            </button>
            <button type="button" class="toolbar-btn" id="btnRedo" title="Redo (Ctrl+Y)" disabled>
                <i class="ri-arrow-go-forward-line"></i>
            </button>
        </div>

        <div class="toolbar-divider"></div>

        <!-- Zoom Controls -->
        <div class="toolbar-group">
            <button type="button" class="toolbar-btn" id="btnZoomIn" title="Zoom In (Ctrl++)">
                <i class="ri-zoom-in-line"></i>
            </button>
            <button type="button" class="toolbar-btn" id="btnZoomReset" title="Reset Zoom (Ctrl+0)">
                <i class="ri-focus-3-line"></i>
            </button>
            <button type="button" class="toolbar-btn" id="btnZoomOut" title="Zoom Out (Ctrl+-)">
                <i class="ri-zoom-out-line"></i>
            </button>
            <div class="toolbar-zoom-level" id="zoomLevelDisplay">100%</div>
        </div>
    </div>

</div>
